#MySql主从复制的原理：
1.主库将变更写入binlog日志，然后从库连接到主库之后，从库有一个IO线程，将主库的binlog日志拷贝到自己本地，写入一个relay中继日志中。</br>
2.从库中有一个Sql线程会中继日志读取binlog,然后执行binlog日志中的内容，也就是在自己本地再执行一遍Sql,这样就可以保证自己跟主库的数据是一样。
## 注意：
   从库同步主库数据的过程是串行化的，也就是说主库上并行的操作，在从库上会串行执行。
### 引发的问题:
   由于从库从主库拷贝日志以及串行执行SQl的特点；
   1. 在高并发场景下，从库的数据一定会比主库慢一些，是有延时的。所以可能会出现，刚写入主库的数据可能是读不到的，要过几十毫秒，甚至几百毫秒才能读取到。
   2. 如果主库突然宕机，然后恰好数据还没同步到从库，那么有些数据可能在从库上是没有的，有些数据可能就丢失了。
## Mysql 两个机制:
   1. 半同步机制，用来解决主库数据丢失问题；
       半同步复制，也叫semi-sync复制，指的就是主库写入binlog日志之后，就会将强制此时立即将数据同步到从库，从库将日志写入自己本地的relay log之后，接着
       会返回一个ack给主库，主库接受到至少一个从库的ack之后才会认为写操作完成了。
   2. 并行复制，用来解决主从同步延时问题。
       并行复制,指的是从库开启多个线程，并行读取relay log中不同库的日志，然后并行重放不同库的日志，这是库级别的并行。
   